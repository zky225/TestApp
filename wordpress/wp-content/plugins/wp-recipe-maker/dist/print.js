var WPRecipeMaker;(()=>{var e={5372:()=>{var e;window.WPRMPrint={args:{},setArgs(e){this.args=e,document.dispatchEvent(new Event("wprmPrintArgs"))},init(){this.checkToggles(),document.querySelector("#wprm-print-button-print").addEventListener("click",(e=>{e.preventDefault(),this.onClickPrint()}));const e=[...document.querySelectorAll(".wprm-print-toggle")];for(let o of e)o.addEventListener("change",(e=>{this.onClickToggle(o)})),this.onClickToggle(o);const r=document.querySelector("#wprm-print-button-email");r&&r.addEventListener("click",(e=>{e.preventDefault(),this.onClickEmail()}));const t=document.querySelector("#wprm-print-button-pdf");t&&t.addEventListener("click",(e=>{e.preventDefault(),this.onClickPdf()})),this.sizeChanger=document.querySelector("#wprm-print-size-container"),this.initSizeChanger();const i=document.querySelector("#wprm-print-footer-ad");if(i){const e=i.offsetHeight;document.querySelector("body").style.paddingBottom=e+"px"}window.hasOwnProperty("wprm_print_settings")&&window.wprm_print_settings.print_remove_links&&this.removeLinks(),document.dispatchEvent(new Event("wprmPrintInit"));let n=localStorage.getItem("wprmPrintArgs");if(localStorage.removeItem("wprmPrintArgs"),n&&(n=JSON.parse(n),n&&n.hasOwnProperty("id"))){const e=document.querySelector("#wprm-print-recipe-0"),r=!(!e||!e.dataset.hasOwnProperty("recipeId"))&&parseInt(e.dataset.recipeId);r&&r===parseInt(n.id)&&this.setArgs(n)}},removeLinks(){const e=document.querySelector("#wprm-print-content").querySelectorAll("a:not(.wprm-recipe-link)");for(let r of e)r.outerHTML="<span>"+r.innerHTML+"</span>"},checkToggles(){if(!document.querySelectorAll(".wprm-recipe-image").length){const e=document.querySelector("#wprm-print-toggle-recipe-image");e&&(e.parentNode.style.display="none")}if(!document.querySelectorAll(".wprm-recipe-equipment-container").length){const e=document.querySelector("#wprm-print-toggle-equipment");e&&(e.parentNode.style.display="none")}if(!document.querySelectorAll(".wprm-recipe-ingredient-image").length){const e=document.querySelector("#wprm-print-toggle-recipe-ingredient-media");e&&(e.parentNode.style.display="none")}if(!document.querySelectorAll(".wprm-recipe-notes-container").length){const e=document.querySelector("#wprm-print-toggle-recipe-notes");e&&(e.parentNode.style.display="none")}if(!document.querySelectorAll(".wprm-nutrition-label-container").length){const e=document.querySelector("#wprm-print-toggle-recipe-nutrition");e&&(e.parentNode.style.display="none")}},onClickToggle(e){let r=[];"wprm-print-toggle-recipe-image"===e.id?r=document.querySelectorAll(".wprm-recipe-image, .wprm-condition-field-image:not(.wprm-condition-inverse)"):"wprm-print-toggle-recipe-equipment"===e.id?r=document.querySelectorAll(".wprm-recipe-equipment-container"):"wprm-print-toggle-recipe-ingredient-media"===e.id?r=document.querySelectorAll(".wprm-recipe-ingredient-image"):"wprm-print-toggle-recipe-instruction-media"===e.id?r=document.querySelectorAll(".wprm-recipe-instruction-media"):"wprm-print-toggle-recipe-notes"===e.id?r=document.querySelectorAll(".wprm-recipe-notes-container"):"wprm-print-toggle-recipe-nutrition"===e.id?r=document.querySelectorAll(".wprm-recipe-nutrition-header, .wprm-nutrition-label-container, .wprm-condition-field-nutrition:not(.wprm-condition-inverse)"):"wprm-print-toggle-collection-name"===e.id?r=document.querySelectorAll(".wprmprc-container-header-container"):"wprm-print-toggle-collection-description"===e.id?r=document.querySelectorAll(".wprmprc-collection-description"):"wprm-print-toggle-collection-images"===e.id?r=document.querySelectorAll(".wprmprc-collection-item-image"):"wprm-print-toggle-collection-servings"===e.id?r=document.querySelectorAll(".wprmprc-collection-item-servings"):"wprm-print-toggle-collection-nutrition"===e.id?r=document.querySelectorAll(".wprmprc-collection-column-nutrition, .wprmprc-collection-item-nutrition"):"wprm-print-toggle-collection-qr"===e.id?r=document.querySelectorAll(".wprmprc-collection-item-qr"):"wprm-print-toggle-shopping-list-collection"===e.id?r=document.querySelectorAll(".wprmprc-shopping-list-collection"):"wprm-print-toggle-shopping-list"===e.id?r=document.querySelectorAll(".wprmprc-shopping-list-list"):"wprm-print-toggle-checked-items"===e.id&&(r=document.querySelectorAll(".wprmprc-shopping-list-list-ingredient-checked"));for(let t of r)e.checked?t.style.display="":t.style.display="none"},onClickPrint(){let e=!1;window.hasOwnProperty("wprm_print_url")&&window.wprm_print_url&&(e=window.location.href,window.history.replaceState({},document.title,window.wprm_print_url)),setTimeout((()=>{window.print()}),200),e&&window.history.replaceState({},document.title,e)},onClickEmail(){window.location="mailto:?body="+window.location},onClickPdf(){},sizeChanger:!1,initSizeChanger(){if(this.sizeChanger){const e=this.sizeChanger.querySelectorAll(".wprm-print-option");for(let r of e)r.addEventListener("click",(()=>{this.setSize(r.dataset.size)}))}},setSize(e){if(["small","normal","large"].includes(e)){const r=document.querySelectorAll("#wprm-print-content, .wprm-recipe-collections-layout-grid, .wprm-recipe-collections-layout-classic");for(let t of r)switch(e){case"small":t.style.fontSize="0.8em";break;case"normal":t.style.fontSize="";break;case"large":t.style.fontSize="1.2em"}if(this.sizeChanger){const r=this.sizeChanger.querySelectorAll(".wprm-print-option");for(let t of r)t.classList.remove("option-active"),e===t.dataset.size&&t.classList.add("option-active")}}},maybeRedirect(e){e&&0===Object.keys(this.args).length&&window.location.replace(e)}},e=()=>{window.WPRMPrint.init()},"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)},8455:()=>{var e;window.WPRecipeMaker=void 0===window.WPRecipeMaker?{}:window.WPRecipeMaker,window.WPRecipeMaker.manager={init:()=>{},recipes:{},findRecipesOnPage:()=>{let e=[];const r=document.querySelectorAll("*[data-recipe-id]");for(let t of r){const r=parseInt(t.dataset.recipeId);r&&e.push(r)}return[...new Set(e)]},resetRecipe:e=>{window.WPRecipeMaker.manager.recipes.hasOwnProperty(`recipe-${e}`)&&delete window.WPRecipeMaker.manager.recipes[`recipe-${e}`]},getRecipe:(e,r=!1)=>(e="preview"===e?e:parseInt(e),window.WPRecipeMaker.manager.recipes.hasOwnProperty(`recipe-${e}`)?Promise.resolve(window.WPRecipeMaker.manager.recipes[`recipe-${e}`]):window.WPRecipeMaker.manager.loadRecipe(e,r)),getRecipeImmediately:e=>{e="preview"===e?e:parseInt(e);let r=!!window.WPRecipeMaker.manager.recipes.hasOwnProperty(`recipe-${e}`)&&window.WPRecipeMaker.manager.recipes[`recipe-${e}`];if(!r&&window.hasOwnProperty("wprm_recipes")&&window.wprm_recipes.hasOwnProperty(`recipe-${e}`)){const t=window.wprm_recipes[`recipe-${e}`];r=window.WPRecipeMaker.manager.loadRecipeObject(e,t),window.WPRecipeMaker.manager.recipes[`recipe-${e}`]=r}return r},loadRecipe:(e,r=!1)=>new Promise(((t,i)=>{new Promise(((t,i)=>{const n=r||e;window.hasOwnProperty("wprm_recipes")&&window.wprm_recipes.hasOwnProperty(`recipe-${n}`)?t(window.wprm_recipes[`recipe-${n}`]):window.WPRecipeMaker.manager.loadRecipeDataFromAPI(n).then((e=>{t(e)}))})).then((r=>{let i=!1;r&&(i=window.WPRecipeMaker.manager.loadRecipeObject(e,r)),window.WPRecipeMaker.manager.recipes[`recipe-${e}`]=i,t(i)}))})),loadRecipeDataFromAPI:e=>{let r={Accept:"application/json","Content-Type":"application/json"};return 0<parseInt(wprm_public.user)&&(r["X-WP-Nonce"]=wprm_public.api_nonce),new Promise(((t,i)=>{fetch(`${wprm_public.endpoints.manage}/recipe/${e}`,{method:"POST",headers:r,credentials:"same-origin",body:JSON.stringify({format:"frontend"})}).then((e=>!!e.ok&&e.json())).then((e=>{t(e)}))}))},loadRecipeObject:(e,r)=>{let t={id:e,data:r,setServings:(...e)=>{},setAdvancedServings:(...e)=>{},setUnitSystem:(...e)=>{},addRating:(...e)=>{}};return window.WPRecipeMaker.hasOwnProperty("managerPremium")&&(t=window.WPRecipeMaker.managerPremium.loadRecipeObject(e,t)),t},triggerChangeEvent:(e,r)=>{document.dispatchEvent(new CustomEvent("wprm-recipe-change",{detail:{id:e,type:r}}))},changeRecipeData:(e,r)=>{window.WPRecipeMaker.manager.recipes.hasOwnProperty(`recipe-${e}`)&&(window.WPRecipeMaker.manager.recipes[`recipe-${e}`].data={...window.WPRecipeMaker.manager.recipes[`recipe-${e}`].data,...r},document.dispatchEvent(new CustomEvent("wprm-recipe-change-data",{detail:{id:e}})))}},e=()=>{window.WPRecipeMaker.manager.init()},"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}},r={};function t(i){var n=r[i];if(void 0!==n)return n.exports;var o=r[i]={exports:{}};return e[i](o,o.exports,t),o.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var i in r)t.o(r,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:r[i]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";t.r(i);t(5372),t(8455)})(),(WPRecipeMaker=void 0===WPRecipeMaker?{}:WPRecipeMaker)["wp-recipe-maker/dist/print"]=i})();